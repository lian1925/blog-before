[{"title":"比卦 | 易经","date":"2017-10-10T12:37:38.000Z","path":"2017/10/10/yi-8-bi/","text":"比:吉。原筮,元永贞,无咎。不宁方来,后夫凶。《象》曰:地上有水,比;先王以建万国,亲诸侯。 初六,有孚比之,无咎;有孚盈缶,终来有它,吉。《象》曰:《比》之初六,有它吉也。 六二,比之自内,贞吉。《象》曰:“比之自内”,不自失也。 六三,比之匪人。《象》曰“比之匪人”,不亦伤乎? 六四,外比之,贞吉。《象》曰:外比于贤,以从上也。 九五,显比;王用三驱,失前禽,邑人不诫,吉。《象》曰:“显比”之吉,位正中也,舍逆取顺,失前禽也;邑人不诫,上使中也。 上六,比之无首,凶。《象》曰:“比之无首”,无所终也。"},{"title":"师卦 | 易经","date":"2017-10-10T12:31:20.000Z","path":"2017/10/10/yi-7-shi/","text":"师:贞,丈人吉,无咎。《象》曰:地中有水,师;君子以容民畜众。 初六,师出以律,否臧凶。《象》曰:“师出以律”,失律凶也。 九二,在师,中吉,无咎;王三锡命。《象》曰:“在师中吉”,承天宠也;“王三锡命”,怀万邦也。 六三,师或舆尸,凶。《象》曰:“师或舆尸”,大无功也。 六四,师左次,无咎。《象》曰:“左次无咎”,示失常也。 六五,田有禽,利执言,无咎;长子帅师,弟子舆尸,贞凶。《象》曰:“长子帅师”,以中行也;“弟子舆尸”,使不当也。 上六,大君有命,开国承家,小人勿用。《象》曰:“大君有命”,以正功也;“小人勿用”,必乱邦也。"},{"title":"讼卦 | 易经","date":"2017-10-10T12:24:18.000Z","path":"2017/10/10/yi-6-song/","text":"讼:有孚窒惕,中吉;终凶,利见大人,不利涉大川。《象》曰:天与水违行,讼;君子以作事谋始。 初六,不永所事;小有言,终吉。《象》曰:“不永所事”,讼不可长也;虽“小有言”,其辩明也。 九二,不克讼,归而逋,其邑人三百户,无眚。《象》曰:“不克讼,归逋窜也”;自下讼上,患至掇也。 六三,食旧德,贞厉,终吉;或从王事,无成。《象》曰“食旧德”,从上吉也。 九四,不克讼;复即命,渝,安贞吉。《象》曰:“复即命,渝”,安贞不失也。 九五,讼,元吉。《象》曰:“讼,元吉”,以中正也。 上九,或锡之鞶带,终朝三褫之。《象》曰:以讼受服,亦不足敬也。"},{"title":"需卦 | 易经","date":"2017-10-10T12:12:21.000Z","path":"2017/10/10/yi-5-xu/","text":"需:有孚,光亨,贞吉,利涉大川。《象》曰:云上于天,需;君子以饮食宴乐。 初九,需于郊,利用恒,无咎。《象》曰:“需于郊”,不犯难行也;“利用恒,无咎”,未失常也。 九二,需于沙,小有言,终吉。《象》曰:“需于沙”,衍在中也;虽有小言,以终吉也。 九三,需于泥,致寇至。《象》曰:“需于泥”,灾在外也;自我致寇,敬慎不败也。 六四,需于血,出自穴。《象》曰:“需于血”,顺以听也。 九五,需于酒食,贞吉。《象》曰:“酒食贞吉”,以中正也。 上六,入于穴,有不速之客三人来;敬之,终吉。《象》曰:“不速之客来,敬之终吉”。虽不当位,未大失也。"},{"title":"蒙卦 | 易经","date":"2017-10-10T11:55:54.000Z","path":"2017/10/10/yi-4-meng/","text":"(山水)蒙:亨。匪我求童蒙,童蒙求我;初筮告,再三渎,渎则不告。利贞。《象》曰:山下出泉,蒙;君子以果行育德。 初六,发蒙,利用刑人,用说桎梏;以往吝。《象》曰:利用刑人,以正法也。 九二,包蒙,吉。纳妇,吉;子克家。《象》曰:“子克家”,刚柔接也。 六三,勿用取女,见金夫,不有躬,无攸利。《象》曰:“勿用取女”,行不顺也。 六四,困蒙,吝。《象》曰:“困蒙之吝”,独远实也。 六五,童蒙,吉。《象》曰:“童蒙之吉”,顺以巽也。 上九,击蒙,不利为寇,利御寇。《象》曰:“利用御寇”,上下顺也。"},{"title":"屯卦 | 易经","date":"2017-10-10T11:43:58.000Z","path":"2017/10/10/yi-3-tun/","text":"屯:元,亨,利,贞;勿用有攸往,利建侯。《象》曰:云雷屯,君子以经纶。 初九,磐桓,利居贞,利建侯。《象》曰:虽磐桓,志行正也。以贵下贱,大得民也。 六二,屯如邅如,乘马班如。匪寇婚媾,女子贞不字,十年乃字。《象》曰:六二之难,乘刚也。“十年乃字”,反常也。 六三,即鹿无虞,惟入于林中,君子几,不如舍,往吝。《象》曰:“即鹿无虞”,以从禽也。君子舍之,往吝穷也。 六四,乘马班如,求婚媾,往吉,无不利。《象》曰:求而往,明也。 九五,屯其膏,小贞吉,大贞凶。《象》曰:“屯其膏”,施未光也。 上六,乘马班如,泣血涟如。《象》曰:“泣血涟如”,何可长也?"},{"title":"坤卦 | 易经","date":"2017-10-10T11:03:58.000Z","path":"2017/10/10/yi-2-kun/","text":"坤：元，亨，利牝马之贞。君子有攸往，先迷，后得主，利。西南得朋，东北丧朋。安贞吉。象曰：地势坤，君子以厚德载物。 初六，履霜，坚冰至。象曰：履霜坚冰，阴始凝也；驯致其道，至坚冰也。 六二，直方大，不习无不利。象曰：六二之动，直以方也，不习无不利，地道光也。 六三,含章可贞,或从王事,无成有终。《象》曰:“含章可贞”,以时发也;“或从王事”,知光大也。 六四,括囊,无咎无誉。《象》曰:“括囊无咎”,慎不害也。 六五,黄裳,元吉。《象》曰:“黄裳元吉”,文在中也。 上六,龙战于野,其血玄黄。《象》曰:“龙战于野”,其道穷也。 用六,利永贞。《象》曰:用六“永贞”,以大终也。"},{"title":"乾卦 | 易经","date":"2017-10-10T07:55:26.000Z","path":"2017/10/10/yi-1-qian/","text":"乾：元，亨，利，贞。象曰：天行健，君子以自强不息。 初九，潜龙勿用。象曰：潜龙勿用，阳在下也。 九二，见龙在田，利见大人。象曰：见龙在田，德施普也。 九三，君子终日乾乾，夕惜若，厉无咎。象曰：终日乾乾，反复道也。 九四，或跃在渊，无咎。象曰：或跃在渊，进无咎也。 九五，飞龙在天，利见大人。象曰：飞龙在天，大人造也。 上九，亢龙有悔。象曰：亢龙有悔，盈不可久也。 用九，见群龙无首，吉。象曰：用九，天德不可为首也。"},{"title":"初学 | 易经","date":"2017-10-10T07:12:45.000Z","path":"2017/10/10/yi-start/","text":"初步学习易经，记录要点与心得。易经，包括’经’与’传’两部分。‘经’包括六十四卦和三百八十四爻，及其说明(卦辞与爻辞)。‘传’，又称’十翼’，为孔子所作。 先天八卦“天地定位，山泽通气，雷风相薄，水火不相射，八卦想错。数往者顺，知来者逆，是故易逆数也”《说卦第二章》 后天八卦“帝出乎震，齐乎巽，相见乎离，致役乎坤，说言乎兑，战乎乾，劳乎坎，成言乎艮”《说卦第五章》 六十四卦由八经卦互组而成，爻从最低到最上，称”初，二，三，四，五，上”。另外，最顶两爻代表天，中间两爻代表人，最低两爻代表地。"},{"title":"Linux安装Git环境","date":"2017-10-09T07:43:41.000Z","path":"2017/10/09/linux-git-env/","text":"目标：为Linux服务器安装Git环境，配置安全协议SSH安装Git sudo apt-get update sudo apt-get install git 查看版本，检测是否安装成功 git --version 生成SSH KEY，默认安装(若有选择，按回车继续) ssh-keygen -t rsa -b 4096 -C lian1925@126.com 启动 ssh-agent: eval $(ssh-agent -s) 为 ssh-agent 添加 SSH key ssh-add ~/.ssh/id_rsa 获取 SSH KEY内容，填写到GitLab账号 $ pbcopy &lt; ~/.ssh/id_rsa.pub # Copies the contents of the id_rsa.pub file to your clipboard"},{"title":"Linux安装NodeJS环境","date":"2017-10-09T06:07:48.000Z","path":"2017/10/09/linux-node-env/","text":"目标：为Linux(Ubuntu)服务器，安装nodejs环境，用于运行JavaScript。安装nvm curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.5/install.sh | bash 查看当前已安装哪些node版本 nvm ls 安装node nvm install v6.10.1 查看版本，测试是否安装成功 node -v npm -v 安装部署工具PM2 npm i -g pm2"},{"title":"Linux下处理MySQL错误","date":"2017-10-09T04:29:11.000Z","path":"2017/10/09/linux-mysql-error/","text":"目标：在Linux服务器部署，运行程序，对外提供服务时，MySQL数据库会遇到一些问题，现将实践遇到的问题及解决思路记录。1 mysqladmin flush-hosts 错误当后端程序试图连接MySQL，出现错误提示如下： root@iZwz92o5ndq3w3w5buade0Z:/home/helloExpress# node api.js 2017-10-09 12:23:29 api start. port:8080 (node:2888) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Host '120.25.192.73' is blocked because of many connection errors; unblock with 'mysqladmin flush-hosts' (node:2888) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. events.js:163 throw er; // Unhandled 'error' event ^ Error: Connection lost: The server closed the connection. at Socket.&lt;anonymous> (/home/helloExpress/node_modules/mysql2/lib/connection.js:111:35) at emitNone (events.js:91:20) at Socket.emit (events.js:188:7) at endReadableNT (_stream_readable.js:975:12) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) 解决方案停止MySQL的运行： sudo /etc/init.d/mysql stop 以安全模式进入： sudo mysqld_safe --skip-grant-tables &amp; 进入MySQL： mysql -uroot -p 显示当前最大错误连接数： show variables like '%max_connections%'; 修改连接数值 SET GLOBAL max_connect_errors=10000; 退出MySQL exit 重新安装mysql2 library npm i mysql2"},{"title":"书单","date":"2017-10-05T15:19:08.000Z","path":"2017/10/05/reading-list/","text":"宁静庭落，一方书桌，一缕清风，一杯淡茶，手捧一卷书，闲坐一傍晚，何其美哉。好书于我更甚美味佳肴，特将喜爱之书梳理纪念。 21天搞定电影剧本 美食祈祷恋爱 你的剧本逊毙了 深入理解计算机系统 太极拳体用全书 万物解释者 研究是一门艺术 富爸爸穷爸爸 别闹了，费曼先生 程序员的自我修养 代码大全 故事：材质、结构、风格和银幕剧作的原理 关键冲突：如何把人际关系危机转化为合作共赢 关键对话：如何高效沟通 影响力 哈佛非虚构写作课 解忧杂货店 经济史的趣味 奇特的一生 围城 人月神话 山海经 嫌疑人X的献身 小岛经济学 小王子 小说课:折磨读者的秘密 演讲的力量 一本小小的红色写作书 一本小小的蓝色逻辑书 JavaScript权威指南 JavaScript高级程序设计"},{"title":"博客添加评论功能","date":"2017-10-05T11:28:01.000Z","path":"2017/10/05/blog-comments-feature/","text":"目标：为博客添加评论功能，方便访客留言。 工具畅言，使用微信账号登录。 备案使用畅言评论，需要对域名进行备案。故于阿里云新买域名www.liangyl.top，进行绑定 企业邮箱腾讯免费企业邮箱，使用微信登录 在页面的合适位置引入评论代码此处需要填写id和key，在畅言的管理后台获取。 &lt;div id=\"SOHUCS\">&lt;/div> &lt;script type=\"text/javascript\"> (function(){ var appid = '您的appid'; var conf = '您的appkey'; var width = window.innerWidth || document.documentElement.clientWidth; if (width &lt; 960) { window.document.write('&lt;script id=\"changyan_mobile_js\" charset=\"utf-8\" type=\"text/javascript\" src=\"http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&amp;conf=' + conf + '\">&lt;\\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName(\"head\")[0]||document.head||document.documentElement;var b=document.createElement(\"script\");b.setAttribute(\"type\",\"text/javascript\");b.setAttribute(\"charset\",\"UTF-8\");b.setAttribute(\"src\",d);if(typeof a===\"function\"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e===\"loaded\"||e===\"complete\"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs(\"http://changyan.sohu.com/upload/changyan.js\",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); &lt;/script> 图片"},{"title":"博客添加图标样式","date":"2017-10-05T06:16:02.000Z","path":"2017/10/05/blog-icon-style/","text":"目标：为博客添加好看的图标样式，提示阅读体验。 图标库阿里巴巴矢量图标库,可以使用GitHub账号登录 第一步，在图标库中搜索所需的图标第二步，将选好的图标加入项目，如:blog第三步，在HTML和css文件中引用 获取项目生成的css文件链接，加入html文件的头部&lt;link rel=\"stylesheet\" href=\"//at.alicdn.com/t/font_407924_kx6yx3r9q4m6xbt9.css\"> 选择所需的图标，获取其class名字，应用于页面&lt;i class=\"iconfont icon-sousuo\">&lt;/i> blog项目图标参考搜索icon-sousuo微博icon-weibogithubicon-githubtwittericon-twitterfacebookicon-facebook斜线icon-xiexian1双箭头icon-shuangjiantou-copy"},{"title":"Nginx 502 错误","date":"2017-10-05T04:15:03.000Z","path":"2017/10/05/nginx-502-error/","text":"最近，部署于阿里云的服务接口，用户请求数据时遭遇502错误的困扰。本文用于记录解决该问题的经过。查看Nginx的错误日志error.log，记录如下：片段1 2017/10/05 11:50:51 [error] 6430#0: *1815 upstream prematurely closed connection while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/course_submit_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/course_submit_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 11:50:51 [error] 6430#0: *1809 upstream prematurely closed connection while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/submit_check HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/submit_check\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 11:50:51 [error] 6430#0: *1816 upstream prematurely closed connection while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/auth/check_manager HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/auth/check_manager\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 11:50:51 [error] 6430#0: *1807 upstream prematurely closed connection while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/subscribe_state HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/subscribe_state\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 片段2 2017/10/05 09:44:51 [error] 6430#0: *1084 upstream prematurely closed connection while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/submit_check HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/submit_check\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 09:44:51 [error] 6430#0: *1083 upstream prematurely closed connection while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/auth/check_manager HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/auth/check_manager\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 09:44:51 [error] 6430#0: *1064 recv() failed (104: Connection reset by peer) while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/subscribe_state HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/subscribe_state\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 09:44:51 [error] 6430#0: *1063 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/course_submit_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/course_submit_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 查看请求日志，记录如下： 116.25.250.1 - - [05/Oct/2017:11:52:56 +0800] \"POST /educate/user/info HTTP/1.1\" 200 441 \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" \"wechatdevtools appservice port/9974\" 116.25.250.1 - - [05/Oct/2017:11:52:56 +0800] \"POST /educate/manager/course_list HTTP/1.1\" 200 5056 \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" \"wechatdevtools appservice port/9974\" 116.25.250.1 - - [05/Oct/2017:11:58:32 +0800] \"POST /educate/manager/course_list HTTP/1.1\" 200 5056 \"https://servicewechat.com/wx2ef86638fe2ab2eb/0/page-frame.html\" \"Mozilla/5.0 (iPhone; CPU iPhone OS 9_0 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13A342 MicroMessenger/6.5.18 NetType/4G Language/zh_CN\" 116.25.250.1 - - [05/Oct/2017:11:58:32 +0800] \"POST /educate/user/info HTTP/1.1\" 200 441 \"https://servicewechat.com/wx2ef86638fe2ab2eb/0/page-frame.html\" \"Mozilla/5.0 (iPhone; CPU iPhone OS 9_0 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13A342 MicroMessenger/6.5.18 NetType/4G Language/zh_CN\" 40.77.167.0 - - [05/Oct/2017:12:13:51 +0800] \"GET / HTTP/1.1\" 200 59 \"-\" \"Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)\" 103.206.22.250 - - [05/Oct/2017:12:23:13 +0800] \"GET http://azenv.net/ HTTP/1.1\" 200 28 \"-\" \"Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.1; Trident/5.0)\" 103.206.22.250 - - [05/Oct/2017:12:23:13 +0800] \"CONNECT www.baidu.com:443 HTTP/1.1\" 400 181 \"-\" \"-\" 方案一，将代理服务的失效时间延长 proxy_connect_timeout 600; proxy_send_timeout 600; proxy_read_timeout 600; send_timeout 600; 方案二，添加缓存功能 proxy_cache_path /home/nginx_cache_dir levels=1:2 keys_zone=cache_one:100m inactive=60m max_size=5g ; location / { proxy_cache_valid 200 302 1h; proxy_cache_valid 301 1d; proxy_cache_valid any 1m; proxy_cache cache_one; expires 10m; add_header X-Proxy-Cache $upstream_cache_status; } 方案三，增加缓存空间，延长时间 keepalive_timeout 600; types_hash_max_size 2048; fastcgi_buffers 8 16k; fastcgi_buffer_size 32k; fastcgi_connect_timeout 300; fastcgi_send_timeout 300; fastcgi_read_timeout 300; 新增报错日志：片段3 2017/10/05 15:46:59 [error] 23492#0: *585 upstream prematurely closed connection while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *552 upstream prematurely closed connection while reading response header from upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *585 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *585 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *585 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *585 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *585 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\"2017/10/05 15:46:59 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:46:59 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:47:00 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:47:00 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:47:00 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/user/info HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/user/info\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" 2017/10/05 15:47:00 [error] 23492#0: *552 connect() failed (111: Connection refused) while connecting to upstream, client: 116.25.250.1, server: , request: \"POST /educate/manager/course_list HTTP/1.1\", upstream: \"http://127.0.0.1:8080/educate/manager/course_list\", host: \"www.luobocode.com\", referrer: \"https://servicewechat.com/wx2ef86638fe2ab2eb/devtools/page-frame.html\" nginx参考配置文件： events { worker_connections 768; # multi_accept on; } http { access_log /var/log/nginx/access.log; error_log /var/log/nginx/error.log; proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=one:8m max_size=3000m inactive=600m; proxy_temp_path /var/tmp; include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; gzip on; gzip_comp_level 6; gzip_vary on; gzip_min_length 1000; gzip_proxied any; # gzip_types text/plain text/html text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript; gzip_buffers 16 8k; # ssl_certificate /some/location/luobocode.com.bundle.crt; # ssl_certificate_key /some/location/luobocode.com.key; # ssl_protocols SSLv3 TLSv1; # ssl_ciphers HIGH:!aNULL:!MD5; upstream www.luobocode.com { server 127.0.0.1:8080; keepalive 64; } # server { # listen 80; # rewrite ^(.*) https://$host$1 permanent; # } server { listen 80; listen [::]:80; server_name www.luobocode.com; return 301 https://www.luobocode.com$request_uri; } server { listen 443 ssl; listen [::]:443 ssl; server_name www.luobocode.com; ssl on; ssl_certificate 1_www.luobocode.com_bundle.crt; ssl_certificate_key 2_www.luobocode.com.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配置 ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#按照这个套件配置 ssl_prefer_server_ciphers on; location / { proxy_redirect off; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Host $http_host; proxy_set_header X-NginX-Proxy true; proxy_set_header Connection \"\"; proxy_http_version 1.1; proxy_cache one; proxy_cache_key sfs$request_uri$scheme; proxy_pass http://www.luobocode.com; } } }"},{"title":"博客添加代码高亮特性","date":"2017-10-04T21:15:19.000Z","path":"2017/10/05/blog-code-highlight-feature/","text":"目标：为博客添加代码高亮特性，让代码部分的观赏性加分。 工具hexo-prism-plugin 安装npm i -S hexo-prism-plugin 配置在博客的配置文件_config.yml，加入配置语句： prism_plugin: mode: 'preprocess' # realtime/preprocess theme: 'duotone-light' line_number: false # default false 禁止默认 highlight配置： highlight: enable: false 修改样式将代码块设为圆角，添加浅浅边框，修改后视觉效果更加柔和美观。这里我们只需要修改pre选项，因为所有的代码块都包含在pre节点内,为避免干扰其他使用pre的样式，可加.page前缀。 .page pre { border: 1px solid rgba(0, 0, 0, 0.3); border-radius: 10px; } 清除缓存并启动hexo clean hexo s"},{"title":"网络存储","date":"2017-10-03T12:05:03.000Z","path":"2017/10/03/web-storage/","text":"设备 威联通（QNAP）TS-231P 1G 内存 2盘位NAS网络存储器 双核1.7GHz处理器 2个网络端口 初始化安装"},{"title":"博客实现搜索功能","date":"2017-10-02T16:10:09.000Z","path":"2017/10/03/blog-search-feature/","text":"目标：为博客添加搜索功能，方便用户快速查找对应的文章。实现搜索功能，有两种途径：1）使用第三方搜索公司提供的服务；2）通过自己获取网站数据和关键字匹配，实现搜索功能 第三方服务Algolia可采用Github账号登录使用 自定义搜索功能第一步，我们要获取博客网站的数据，放入文件中，作为搜索功能的数据源。对此我们选用的工具是：hexo-generator-json-content安装方式： npm i -S hexo-generator-json-content 配置在博客配置 _config.yml,添加上面插件的配置语句： jsonContent: meta: false pages: false posts: title: true date: true path: true text: true raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: false 启动 hexo serve 将自动生成 content.json文件，格式如下： [{ //-> only published posts title: post.title, date: post.date, text: post.content, //-> only text minified ;) path: post.path }] 第二步，通过关键字，获取数据源中的匹配文章。这里我们将提供一个搜索函数search()，传入关键字，返回相匹配的文章列表。 function search(keywords){ // 关键字 => 正则，空格隔开的看作多个关键字 // a b c => /a|b|c/gmi var result = []; var regExp = new RegExp(key.replace(/[ ]/g, '|'), 'gmi'); loadData(function(data){ result = data.filter(function(post){ return matcher(post,regExp); }) }) } 定义数据源读取函数loadData() var searchData; function loadData(success) { if (!searchData) { var xhr = new XMLHttpRequest(); xhr.open('GET', '/content.json', true); xhr.onload = function() { if (this.status >= 200 &amp;&amp; this.status &lt; 300) { var res = JSON.parse(this.response || this.responseText); searchData = res instanceof Array ? res : res.posts; success(searchData); } else { console.error(this.statusText); } }; xhr.onerror = function() { console.error(this.statusText); }; xhr.send(); } else { success(searchData); } } 定义正则匹配函数 function matcher(post, regExp) { // 匹配优先级：title > tags > text return regtest(post.title, regExp) || post.tags.some(function(tag) { return regtest(tag.name, regExp); }) || regtest(post.text, regExp); } function regtest(raw, regExp) { regExp.lastIndex = 0; return regExp.test(raw); }"},{"title":"相册功能","date":"2017-09-22T08:31:58.000Z","path":"2017/09/22/gallery/","text":"目标：为博客添加酷炫的相册功能 工具PhotoSwipe 用法引入js和css文件 &lt;!-- Core CSS file --> &lt;link rel=\"stylesheet\" href=\"path/to/photoswipe.css\"> &lt;!-- Skin CSS file (styling of UI - buttons, caption, etc.) In the folder of skin CSS file there are also: - .png and .svg icons sprite, - preloader.gif (for browsers that do not support CSS animations) --> &lt;link rel=\"stylesheet\" href=\"path/to/default-skin/default-skin.css\"> &lt;!-- Core JS file --> &lt;script src=\"path/to/photoswipe.min.js\">&lt;/script> &lt;!-- UI JS file --> &lt;script src=\"path/to/photoswipe-ui-default.min.js\">&lt;/script> 在页面合适的地方，放置photoswipe &lt;!-- Root element of PhotoSwipe. Must have class pswp. --> &lt;div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"> &lt;!-- Background of PhotoSwipe. It's a separate element as animating opacity is faster than rgba(). --> &lt;div class=\"pswp__bg\">&lt;/div> &lt;!-- Slides wrapper with overflow:hidden. --> &lt;div class=\"pswp__scroll-wrap\"> &lt;!-- Container that holds slides. PhotoSwipe keeps only 3 of them in the DOM to save memory. Don't modify these 3 pswp__item elements, data is added later on. --> &lt;div class=\"pswp__container\"> &lt;div class=\"pswp__item\">&lt;/div> &lt;div class=\"pswp__item\">&lt;/div> &lt;div class=\"pswp__item\">&lt;/div> &lt;/div> &lt;!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --> &lt;div class=\"pswp__ui pswp__ui--hidden\"> &lt;div class=\"pswp__top-bar\"> &lt;!-- Controls are self-explanatory. Order can be changed. --> &lt;div class=\"pswp__counter\">&lt;/div> &lt;button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\">&lt;/button> &lt;button class=\"pswp__button pswp__button--share\" title=\"Share\">&lt;/button> &lt;button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\">&lt;/button> &lt;button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\">&lt;/button> &lt;!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --> &lt;!-- element will get class pswp__preloader--active when preloader is running --> &lt;div class=\"pswp__preloader\"> &lt;div class=\"pswp__preloader__icn\"> &lt;div class=\"pswp__preloader__cut\"> &lt;div class=\"pswp__preloader__donut\">&lt;/div> &lt;/div> &lt;/div> &lt;/div> &lt;/div> &lt;div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"> &lt;div class=\"pswp__share-tooltip\">&lt;/div> &lt;/div> &lt;button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\"> &lt;/button> &lt;button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\"> &lt;/button> &lt;div class=\"pswp__caption\"> &lt;div class=\"pswp__caption__center\">&lt;/div> &lt;/div> &lt;/div> &lt;/div> &lt;/div> 初始化gallery var pswpElement = document.querySelectorAll('.pswp')[0]; // build items array var items = [ { src: 'https://placekitten.com/600/400', w: 600, h: 400 }, { src: 'https://placekitten.com/1200/900', w: 1200, h: 900 } ]; // define options (if needed) var options = { // optionName: 'option value' // for example: index: 0 // start at first slide }; // Initializes and opens PhotoSwipe var gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options); gallery.init(); 图片工具fancyBox3快速入门 &lt;!-- 1. Add latest jQuery and fancyBox files --> &lt;script src=\"//code.jquery.com/jquery-3.2.1.min.js\">&lt;/script> &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css\" /> &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js\">&lt;/script> &lt;!-- 2. Create links --> &lt;a data-fancybox=\"gallery\" href=\"big_1.jpg\">&lt;img src=\"small_1.jpg\">&lt;/a> &lt;a data-fancybox=\"gallery\" href=\"big_2.jpg\">&lt;img src=\"small_2.jpg\">&lt;/a> &lt;!-- 3. Have fun! -->"},{"title":"Hello World","date":"2013-07-14T09:01:34.000Z","path":"2013/07/14/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post$ hexo new \"My New Post\" More info: Writing Run server$ hexo server More info: Server Generate static files$ hexo generate More info: Generating Deploy to remote sites$ hexo deploy More info: Deployment"}]